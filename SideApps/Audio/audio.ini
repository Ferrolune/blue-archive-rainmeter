; Button to toggle on/off the Audio Visualizer skin.
[Rainmeter]
Update=50
DefaultUpdateDivider=-1
AccurateText=1

[Metadata]
Name=Blue Archive - Audio Button
Author=Xenon257R
Information=A Blue Archive themed Audio Visualizer toggle button.
Version=1.0.0
License=Creative Commons Attribution - Non - Commercial - Share Alike 3.0

[Variables]
@includeConfig=#@#config.inc
AudioVisualizerButton=#AppSize#
Padding=10

[OpenAudioVisualizer]
Measure=Calc
Formula=0
IfAboveValue=0
IfAboveAction=[!ToggleConfig "BlueArchive\AudioVisualizer" "audiovisualizer.ini"][!SetOption OpenAudioVisualizer Formula "0"][!UpdateMeasure OpenAudioVisualizer]
DynamicVariables=1

[AudioVisualizer]
Meter=Image
H=#AudioVisualizerButton#
X=(#Padding# + #AppHalfWidth# - (#AudioVisualizerButton# / 2))
Y=((#AppSize# - #AudioVisualizerButton#) / 2)
ImageName=#@#icons\notice.png
LeftMouseDownAction=[!SetVariable AudioVisualizerButton #AppPress#][!SetOption OpenAudioVisualizer Formula "1"][!UpdateMeter AudioVisualizer]
LeftMouseUpAction=[!SetVariable AudioVisualizerButton #AppSize#][!UpdateMeter AudioVisualizer][!UpdateMeasure OpenAudioVisualizer]
MouseLeaveAction=[!SetVariable AudioVisualizerButton #AppSize#][!SetOption OpenAudioVisualizer Formula "0"][!UpdateMeter AudioVisualizer]
PreserveAspectRatio=1
DynamicVariables=1

[AudioVisualizerText]
Meter=String
MeterStyle=TextStyle
StringEffect=Border 
FontEffectColor=255,255,255,255
FontSize=15
Text=Visualizer
X=(#Padding# + #AppHalfWidth#)
Y=(#AppSize# * 0.8)